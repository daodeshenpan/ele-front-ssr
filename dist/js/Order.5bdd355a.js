(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{182:function(t,n,i){},209:function(t,n,i){"use strict";var e=i(182);i.n(e).a},227:function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{attrs:{id:"order"}},[i("top-bar",{attrs:{title:"订单"},scopedSlots:t._u([{key:"right",fn:function(){return[i("i",{staticClass:"el-icon-chat-line-round"})]},proxy:!0}])}),t._v(" "),t.userInfo.id?i("ul",t._l(t.orderList,(function(n,e){return i("li",{key:e},[i("img",{attrs:{src:t.imgBaseURL+n.restaurant_image_url,alt:""}}),t._v(" "),i("section",[i("div",{staticClass:"top"},[i("section",[i("section",{on:{tap:function(i){return t.toShop(n)}}},[i("b",[t._v(t._s(n.restaurant_name))]),i("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),i("p",[t._v(t._s(n.formatted_created_at))])]),t._v(" "),i("span",[t._v(t._s(n.status_bar.title))])]),t._v(" "),i("div",{staticClass:"middle",on:{tap:function(i){return t.toOrderDetail(n)}}},[i("span",[t._v(t._s(n.basket.group[0].length>1?n.basket.group[0][0].name+"等"+n.basket.group[0].length+"件商品":n.basket.group[0][0].name))]),t._v(" "),i("b",[t._v("￥"+t._s(t._f("toFixed2")(n.total_amount)))])]),t._v(" "),i("div",{staticClass:"bottom"},[i("button",{on:{tap:function(i){return t.toShop(n)}}},[t._v("\n                        再来一单\n                    ")])])])])})),0):i("div",[i("i",{staticClass:"el-icon-s-custom"}),t._v(" "),i("p",[t._v("您还没有登录，请登录后查看订单")]),t._v(" "),i("button",{on:{tap:function(n){return t.$router.push("/login")}}},[t._v("登录")])])],1)};e._withStripped=!0;var o=i(55),r=i(13),a=i(1),s=i(56),u={name:"Order",components:{TopBar:o.a},data:function(){return{orderList:[],orderLimit:20,orderIndex:0,fromPayOnline:!1,imgBaseURL:s.b}},computed:Object(r.c)(["userInfo"]),watch:{"userInfo.id":function(){this.userInfo.id&&this.initData()}},beforeRouteEnter:function(t,n,i){"/shop"===n.path?(t.meta.transitionName="slide-to-bottom",i()):"/login"===n.path||"/orderDetail"===n.path?(t.meta.transitionName="slide-to-right",i()):"/payOnline"===n.path?(t.meta.transitionName="",i((function(t){return t.fromPayOnline=!0}))):(t.meta.transitionName="",i())},beforeMount:function(){this.userInfo.id&&this.initData()},activated:function(){var t=this;this.$nextTick((function(){t.fromPayOnline&&t.initData()}))},deactivated:function(){this.fromPayOnline=!1},methods:{initData:function(){var t=this;Object(a.s)(this.userInfo.id,this.orderIndex*this.orderLimit,this.orderLimit).then((function(n){var i=n.data;t.orderList=i}))},toShop:function(t){this.$router.push("/shop?geohash=".concat(this.$route.query.geohash,"&id=").concat(t.restaurant_id))},toOrderDetail:function(t){this.$router.push("/orderDetail?geohash=".concat(this.$route.query.geohash,"&id=").concat(t.id,"&user_id=").concat(t.user_id))}}},c=(i(209),i(7)),d=Object(c.a)(u,e,[],!1,null,null,null);d.options.__file="src/views/Order.vue";n.default=d.exports}}]);