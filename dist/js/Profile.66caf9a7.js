(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{185:function(t,e,a){},212:function(t,e,a){"use strict";var s=a(185);a.n(s).a},221:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"profile"}},[a("top-bar",{attrs:{"show-back":"",title:"账户信息"}}),t._v(" "),a("div",[a("input",{ref:"input",attrs:{type:"file"},on:{change:t.uploadAvatar}}),t._v(" "),a("h2",[t._v("头像")]),t._v(" "),a("img",{attrs:{src:t.imgBaseURL+t.userInfo.avatar}})]),t._v(" "),a("div",{on:{tap:function(e){return t.$router.push("/manageAddress")}}},[a("h2",[t._v("收货地址")]),t._v(" "),a("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),a("button",{on:{tap:t.handleTap}},[t._v("退出登录")])],1)};s._withStripped=!0;var n=a(55),r=a(1),i=a(56),o=a(13),u={name:"Profile",components:{TopBar:n.a},data:function(){return{baseURL:i.a,imgBaseURL:i.b}},computed:Object(o.c)(["userInfo"]),beforeRouteEnter:function(t,e,a){"/manageAddress"===e.path?t.meta.transitionName="slide-to-right":t.meta.transitionName="slide-to-left",a()},methods:{handleTap:function(){var t=this;Object(r.v)().then((function(e){var a=e.data;1===a.status&&(t.$alert({type:"success",content:a.message}),t.$router.go(-1),t.$store.commit("setUserInfo",{}))}))},uploadAvatar:function(){var t=new FormData;t.append("file",this.$refs.input.files[0]);var e=new XMLHttpRequest;e.open("post",this.baseURL+"/eus/v1/users/"+this.userInfo.id+"/avatar");var a=this;e.onreadystatechange=function(){if(4===this.readyState&&(200===e.status||304===e.status)){var t=JSON.parse(e.response);1===t.status&&(a.$alert({type:"success",content:"修改成功"}),a.userInfo.avatar=t.image_path)}},e.send(t)}}},c=(a(212),a(7)),p=Object(c.a)(u,s,[],!1,null,null,null);p.options.__file="src/views/Mine/Profile.vue";e.default=p.exports}}]);