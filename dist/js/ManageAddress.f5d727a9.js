(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{190:function(e,t,s){},216:function(e,t,s){"use strict";var n=s(190);s.n(n).a},222:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"manage-address"}},[s("top-bar",{attrs:{"show-back":"",title:"管理收货地址"},scopedSlots:e._u([{key:"right",fn:function(){return[s("span",{staticClass:"manage",on:{tap:function(t){e.remove=!e.remove}}},[e._v("编辑")])]},proxy:!0}])}),e._v(" "),s("ul",e._l(e.allAddress,(function(t,n){return s("li",{key:n,on:{tap:function(t){return e.handleTap(n)}}},[s("i",{ref:"icon",refInFor:!0,staticClass:"el-icon-success",class:{border:e.remove}}),e._v(" "),s("div",[s("div",[s("span",[e._v(e._s(t.name))]),e._v(" "),s("i",[e._v(e._s(1===t.sex?"先生":"女士"))]),e._v(" "),s("b",[e._v(e._s(t.phone))])]),e._v(" "),s("div",[s("i",[e._v(e._s(t.tag))]),e._v(" "),s("span",[e._v(e._s(t.address))]),e._v(" "),s("b",[e._v(e._s(t.address_detail))])])])])})),0),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.remove,expression:"!remove"}],staticClass:"el-icon-circle-plus-outline",on:{tap:function(t){return e.$router.push("/newAddress")}}},[e._v("新增收获地址")]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.remove,expression:"remove"}],class:{disabled:!e.checked.length},on:{tap:e.removeAddress}},[e._v("删除")])],1)};n._withStripped=!0;s(85),s(57),s(43),s(58),s(86);var i=s(55),a=s(13),r=s(1),o={name:"ManageAddress",components:{TopBar:i.a},data:function(){return{remove:!1,checked:[]}},computed:Object(a.c)(["allAddress","userInfo"]),beforeRouteEnter:function(e,t,s){"/newAddress"===t.path?e.meta.transitionName="slide-to-right":e.meta.transitionName="slide-to-left",s()},activated:function(){this.initData()},deactivated:function(){this.remove=!1},methods:{initData:function(){var e=this.$store;return e.commit("setAllAddress",[]),e.dispatch("fetchAllAddress",this.userInfo.id)},handleTap:function(e){if(this.remove){this.$refs.icon[e].classList.toggle("border"),this.$refs.icon[e].classList.toggle("checked");var t=this.checked.indexOf(e);t>-1?this.checked.splice(t,1):this.checked.push(e)}},removeAddress:function(){var e=this,t=[];this.checked.length&&(this.checked.forEach((function(s){t.push(Object(r.w)(e.userInfo.id,e.allAddress[s].id))})),Promise.all(t).then((function(t){t.every((function(e){return 1===e.data.status}))?(e.$alert({type:"success",content:"删除地址成功"}),e.checked=[],e.initData()):e.$alert({type:"warning",content:"删除地址失败"})})))}}},c=(s(216),s(7)),d=Object(c.a)(o,n,[],!1,null,null,null);d.options.__file="src/views/Mine/Profile/ManageAddress.vue";t.default=d.exports}}]);