(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{155:function(t,e,a){},156:function(t,e,a){"use strict";var s=a(155);a.n(s).a},157:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"top-bar",class:{right:!t.showBack&&!t.$slots.left&&t.$slots.right}},[t._t("left"),t._v(" "),t.showBack?a("i",{staticClass:"el-icon-arrow-left top-bar-go-back",on:{tap:function(e){return t.$router.go(-1)}}}):t._e(),t._v(" "),a("span",{staticClass:"top-bar-title ellipsis"},[t._v(t._s(t.title))]),t._v(" "),t._t("right")],2)};s._withStripped=!0;var n=a(39),r={name:"TopBar",props:{title:{type:String},showBack:{type:Boolean}},computed:Object(n.c)(["userInfo"])},o=(a(156),a(17)),i=Object(o.a)(r,s,[],!1,null,null,null);i.options.__file="src/components/TopBar.vue";e.a=i.exports},184:function(t,e,a){},212:function(t,e,a){"use strict";var s=a(184);a.n(s).a},222:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"profile"}},[a("top-bar",{attrs:{"show-back":"",title:"账户信息"}}),t._v(" "),a("div",[a("input",{ref:"input",attrs:{type:"file"},on:{change:t.uploadAvatar}}),t._v(" "),a("h2",[t._v("头像")]),t._v(" "),a("img",{attrs:{src:t.imgBaseURL+t.userInfo.avatar}})]),t._v(" "),a("div",{on:{tap:function(e){return t.$router.push("/manageAddress")}}},[a("h2",[t._v("收货地址")]),t._v(" "),a("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),a("button",{on:{tap:t.handleTap}},[t._v("退出登录")])],1)};s._withStripped=!0;var n=a(157),r=a(2),o=a(51),i=a(39),u={name:"Profile",components:{TopBar:n.a},data:function(){return{baseURL:o.a,imgBaseURL:o.b}},computed:Object(i.c)(["userInfo"]),beforeRouteEnter:function(t,e,a){"/manageAddress"===e.path?t.meta.transitionName="slide-to-right":t.meta.transitionName="slide-to-left",a()},methods:{handleTap:function(){var t=this;Object(r.v)().then((function(e){var a=e.data;1===a.status&&(t.$alert({type:"success",content:a.message}),t.$router.go(-1),t.$store.commit("setUserInfo",{}))}))},uploadAvatar:function(){var t=new FormData;t.append("file",this.$refs.input.files[0]);var e=new XMLHttpRequest;e.open("post",this.baseURL+"/eus/v1/users/"+this.userInfo.id+"/avatar");var a=this;e.onreadystatechange=function(){if(4===this.readyState&&(200===e.status||304===e.status)){var t=JSON.parse(e.response);1===t.status&&(a.$alert({type:"success",content:"修改成功"}),a.userInfo.avatar=t.image_path)}},e.send(t)}}},c=(a(212),a(17)),p=Object(c.a)(u,s,[],!1,null,null,null);p.options.__file="src/views/Mine/Profile.vue";e.default=p.exports}}]);