(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{155:function(e,t,s){},156:function(e,t,s){"use strict";var n=s(155);s.n(n).a},157:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"top-bar",class:{right:!e.showBack&&!e.$slots.left&&e.$slots.right}},[e._t("left"),e._v(" "),e.showBack?s("i",{staticClass:"el-icon-arrow-left top-bar-go-back",on:{tap:function(t){return e.$router.go(-1)}}}):e._e(),e._v(" "),s("span",{staticClass:"top-bar-title ellipsis"},[e._v(e._s(e.title))]),e._v(" "),e._t("right")],2)};n._withStripped=!0;var a=s(39),i={name:"TopBar",props:{title:{type:String},showBack:{type:Boolean}},computed:Object(a.c)(["userInfo"])},r=(s(156),s(17)),o=Object(r.a)(i,n,[],!1,null,null,null);o.options.__file="src/components/TopBar.vue";t.a=o.exports},189:function(e,t,s){},216:function(e,t,s){"use strict";var n=s(189);s.n(n).a},223:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"manage-address"}},[s("top-bar",{attrs:{"show-back":"",title:"管理收货地址"},scopedSlots:e._u([{key:"right",fn:function(){return[s("span",{staticClass:"manage",on:{tap:function(t){e.remove=!e.remove}}},[e._v("编辑")])]},proxy:!0}])}),e._v(" "),s("ul",e._l(e.allAddress,(function(t,n){return s("li",{key:n,on:{tap:function(t){return e.handleTap(n)}}},[s("i",{ref:"icon",refInFor:!0,staticClass:"el-icon-success",class:{border:e.remove}}),e._v(" "),s("div",[s("div",[s("span",[e._v(e._s(t.name))]),e._v(" "),s("i",[e._v(e._s(1===t.sex?"先生":"女士"))]),e._v(" "),s("b",[e._v(e._s(t.phone))])]),e._v(" "),s("div",[s("i",[e._v(e._s(t.tag))]),e._v(" "),s("span",[e._v(e._s(t.address))]),e._v(" "),s("b",[e._v(e._s(t.address_detail))])])])])})),0),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.remove,expression:"!remove"}],staticClass:"el-icon-circle-plus-outline",on:{tap:function(t){return e.$router.push("/newAddress")}}},[e._v("新增收获地址")]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.remove,expression:"remove"}],class:{disabled:!e.checked.length},on:{tap:e.removeAddress}},[e._v("删除")])],1)};n._withStripped=!0;s(148),s(76),s(52),s(77),s(149);var a=s(157),i=s(39),r=s(2),o={name:"ManageAddress",components:{TopBar:a.a},data:function(){return{remove:!1,checked:[]}},computed:Object(i.c)(["allAddress","userInfo"]),beforeRouteEnter:function(e,t,s){"/newAddress"===t.path?e.meta.transitionName="slide-to-right":e.meta.transitionName="slide-to-left",s()},activated:function(){this.initData()},deactivated:function(){this.remove=!1},methods:{initData:function(){var e=this.$store;return e.commit("setAllAddress",[]),e.dispatch("fetchAllAddress",this.userInfo.id)},handleTap:function(e){if(this.remove){this.$refs.icon[e].classList.toggle("border"),this.$refs.icon[e].classList.toggle("checked");var t=this.checked.indexOf(e);t>-1?this.checked.splice(t,1):this.checked.push(e)}},removeAddress:function(){var e=this,t=[];this.checked.length&&(this.checked.forEach((function(s){t.push(Object(r.w)(e.userInfo.id,e.allAddress[s].id))})),Promise.all(t).then((function(t){t.every((function(e){return 1===e.data.status}))?(e.$alert({type:"success",content:"删除地址成功"}),e.checked=[],e.initData()):e.$alert({type:"warning",content:"删除地址失败"})})))}}},c=(s(216),s(17)),l=Object(c.a)(o,n,[],!1,null,null,null);l.options.__file="src/views/Mine/Profile/ManageAddress.vue";t.default=l.exports}}]);